[gd_scene load_steps=37 format=3 uid="uid://c3gi3vrev7n0x"]

[ext_resource type="PackedScene" uid="uid://u7yct1quu07a" path="res://Scenes/Monsters/Monster_3D.tscn" id="1_jmbp6"]
[ext_resource type="Script" uid="uid://chd7madwhmvqt" path="res://Scripts/underBrush.cs" id="2_xundk"]
[ext_resource type="PackedScene" uid="uid://4xvpy66h4j7s" path="res://Assets/3D/charatermodel/underbrush.blend" id="3_cuvqp"]
[ext_resource type="Texture2D" uid="uid://b22orgf0yx24m" path="res://Assets/2D/Wood.png" id="4_mop83"]
[ext_resource type="Texture2D" uid="uid://c5fu5c6gcnf5r" path="res://Assets/2D/swamp_grass.png" id="4_xundk"]
[ext_resource type="Material" uid="uid://bpu6edb0a8drx" path="res://Assets/HitFX/hitMat.tres" id="10_nro0o"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_00oym"]
animation = &"attack1"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_xundk"]
animation = &"attack2"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ci7oq"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ht62m"]
animation = &"run"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ng0vc"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_c1rs2"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "velocity.length() > 0.2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ci7oq"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "velocity.length() <= 0.2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_m7bjp"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_attackAnim == true && _attackAnimSwitch == 1"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_00oym"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_attackAnim == false"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_v7ma6"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_attackAnim == true && _attackAnimSwitch == 1"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_tmuqc"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_attackAnim == true && _attackAnimSwitch == 2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_xvgq4"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_attackAnim == false"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_vvoc1"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_attackAnim == true && _attackAnimSwitch == 2"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_nsxmw"]
states/End/position = Vector2(882.5, 85.9062)
states/Start/position = Vector2(253.5, 85.75)
states/attack/node = SubResource("AnimationNodeAnimation_00oym")
states/attack/position = Vector2(546.875, 222)
states/attack2/node = SubResource("AnimationNodeAnimation_xundk")
states/attack2/position = Vector2(718, 222.15625)
states/idle/node = SubResource("AnimationNodeAnimation_ci7oq")
states/idle/position = Vector2(467, 86.0625)
states/walking/node = SubResource("AnimationNodeAnimation_ht62m")
states/walking/position = Vector2(591.062, 11.375)
transitions = ["Start", "idle", SubResource("AnimationNodeStateMachineTransition_ng0vc"), "idle", "walking", SubResource("AnimationNodeStateMachineTransition_c1rs2"), "walking", "idle", SubResource("AnimationNodeStateMachineTransition_ci7oq"), "idle", "attack", SubResource("AnimationNodeStateMachineTransition_m7bjp"), "attack", "idle", SubResource("AnimationNodeStateMachineTransition_00oym"), "walking", "attack", SubResource("AnimationNodeStateMachineTransition_v7ma6"), "walking", "attack2", SubResource("AnimationNodeStateMachineTransition_tmuqc"), "attack2", "idle", SubResource("AnimationNodeStateMachineTransition_xvgq4"), "idle", "attack2", SubResource("AnimationNodeStateMachineTransition_vvoc1")]
graph_offset = Vector2(215, -16)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_le60b"]
albedo_color = Color(1, 1, 0, 1)
emission_enabled = true
emission = Color(1, 1, 0, 1)

[sub_resource type="Curve" id="Curve_demp2"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_v7ma6"]
curve = SubResource("Curve_demp2")

[sub_resource type="Curve" id="Curve_wt77t"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.504237, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_ch86k"]
curve = SubResource("Curve_wt77t")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_2r11o"]
lifetime_randomness = 1.0
angle_min = 1.07288e-05
angle_max = 360.0
direction = Vector3(0, 0, 0)
spread = 0.0
radial_velocity_min = 0.999978
radial_velocity_max = 0.999978
radial_velocity_curve = SubResource("CurveTexture_v7ma6")
gravity = Vector3(0, -2, 0)
scale_min = 0.05
scale_max = 0.1
scale_curve = SubResource("CurveTexture_ch86k")

[sub_resource type="BoxMesh" id="BoxMesh_b6irl"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_mop83"]
albedo_texture = ExtResource("4_xundk")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_xundk"]
albedo_texture = ExtResource("4_xundk")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_tmuqc"]
albedo_texture = ExtResource("4_mop83")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_xvgq4"]
albedo_texture = ExtResource("4_xundk")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_vvoc1"]
albedo_texture = ExtResource("4_mop83")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_jmbp6"]
albedo_texture = ExtResource("4_mop83")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_uw60x"]
albedo_texture = ExtResource("4_xundk")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_cnnk2"]
albedo_texture = ExtResource("4_xundk")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_l2guo"]
albedo_texture = ExtResource("4_mop83")

[node name="underBrush" instance=ExtResource("1_jmbp6")]
script = ExtResource("2_xundk")

[node name="CollisionShape3D" parent="." index="0"]
transform = Transform3D(1.2, 0, 0, 0, 1.2, 0, 0, 0, 1.2, 0, 0.78293663, 0)
visible = false

[node name="AnimationTree" type="AnimationTree" parent="." index="2"]
root_node = NodePath("../Body")
tree_root = SubResource("AnimationNodeStateMachine_nsxmw")
advance_expression_base_node = NodePath("..")
anim_player = NodePath("../Body/AnimationPlayer")

[node name="Hurtbox" parent="." index="3"]
transform = Transform3D(1.2, 0, 0, 0, 1.2, 0, 0, 0, 1.2, 0, 1.053811, 0)
visible = false

[node name="Attackbox" parent="." index="4"]
transform = Transform3D(1.2, 0, 0, 0, 1.2, 0, 0, 0, 1.2, 0, 1.053811, 0)
visible = false
monitoring = false

[node name="CollisionShape3D" parent="Attackbox" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0668074, -0.636108)
disabled = false

[node name="Stunned" type="GPUParticles3D" parent="." index="5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00175359, 1.7489547, -0.00022280216)
material_override = SubResource("StandardMaterial3D_le60b")
emitting = false
amount = 50
lifetime = 0.5
process_material = SubResource("ParticleProcessMaterial_2r11o")
draw_pass_1 = SubResource("BoxMesh_b6irl")

[node name="Direction" type="Node3D" parent="." index="6"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)

[node name="Body" parent="." index="7" instance=ExtResource("3_cuvqp")]
transform = Transform3D(-1, 0, 8.742278e-08, 0, 1, 0, -8.742278e-08, 0, -1, 0, 0, 0)

[node name="Plane" parent="Body" index="0"]
visible = false

[node name="Skeleton3D" parent="Body/metarig" index="0"]
bones/0/position = Vector3(0.0025231868, 0.93854356, 0.0111641325)
bones/1/rotation = Quaternion(0.17290889, 0, 0, 0.98493785)
bones/2/rotation = Quaternion(0.0051827505, 0, 0, 0.9999866)
bones/4/rotation = Quaternion(-0.024538636, -5.5859477e-05, 0.069069386, 0.9973101)
bones/5/rotation = Quaternion(-0.12461395, 0.010365862, -0.068287134, 0.98979837)
bones/8/rotation = Quaternion(0.38931304, 4.092684e-08, -1.6142788e-08, 0.92110556)
bones/9/rotation = Quaternion(0.22441041, 1.1614725e-07, 2.68799e-08, 0.9744947)
bones/10/rotation = Quaternion(0.1762519, -5.094873e-09, 4.5067072e-08, 0.9843451)
bones/12/rotation = Quaternion(-0.2552369, 0.62435883, -0.5669877, 0.47281623)
bones/13/rotation = Quaternion(0.3012575, -0.039452825, -0.09534802, 0.9479431)
bones/24/rotation = Quaternion(0.08053491, -0.082901694, 0.82560134, 0.55228966)
bones/25/rotation = Quaternion(0.42446426, -0.12791103, 0.45869285, 0.77011037)
bones/35/rotation = Quaternion(-5.414204e-08, 0.6969361, 0.7171332, -5.2617214e-08)
bones/36/rotation = Quaternion(-5.414204e-08, 0.6969361, 0.7171332, -5.2617214e-08)
bones/52/rotation = Quaternion(0.91229355, 0.09778375, -0.049528938, 0.39459586)
bones/53/rotation = Quaternion(0.35605246, 0.0025057152, 0.13059773, 0.92529166)
bones/57/rotation = Quaternion(0.91192144, -0.05166115, 0.054044437, 0.4034967)
bones/58/rotation = Quaternion(0.38819647, -0.0019610564, -0.011472714, 0.9215032)
bones/62/position = Vector3(0.16657996, 0.09338134, 0.20587857)
bones/64/position = Vector3(-0.19457279, 0.10016389, 0.19091009)

[node name="Cube_001" parent="Body/metarig/Skeleton3D" index="0"]
surface_material_override/0 = SubResource("StandardMaterial3D_mop83")
surface_material_override/1 = SubResource("StandardMaterial3D_xundk")
surface_material_override/2 = SubResource("StandardMaterial3D_tmuqc")

[node name="Cube_003" parent="Body/metarig/Skeleton3D" index="1"]
surface_material_override/0 = SubResource("StandardMaterial3D_xvgq4")
surface_material_override/1 = SubResource("StandardMaterial3D_vvoc1")
surface_material_override/2 = SubResource("StandardMaterial3D_jmbp6")

[node name="Cube_004" parent="Body/metarig/Skeleton3D" index="2"]
surface_material_override/0 = SubResource("StandardMaterial3D_uw60x")
surface_material_override/1 = SubResource("StandardMaterial3D_cnnk2")
surface_material_override/2 = SubResource("StandardMaterial3D_l2guo")

[node name="HitFX" parent="." index="8" instance=ExtResource("3_cuvqp")]
transform = Transform3D(-1, 0, 8.742278e-08, 0, 1, 0, -8.742278e-08, 0, -1, 0, 0, 0)
visible = false

[node name="Plane" parent="HitFX" index="0"]
visible = false

[node name="Skeleton3D" parent="HitFX/metarig" index="0"]
bones/0/position = Vector3(0.0023108348, 0.93639916, 0.010925051)
bones/1/rotation = Quaternion(0.1731664, 0, 0, 0.9848926)
bones/2/rotation = Quaternion(0.17703208, 0, 0, 0.98420507)
bones/4/rotation = Quaternion(-0.024538726, -5.585389e-05, 0.06906937, 0.99731004)
bones/5/rotation = Quaternion(-0.2245369, 0.01725049, -0.06688051, 0.9720147)
bones/8/rotation = Quaternion(0.38931307, 4.0926828e-08, -1.6142788e-08, 0.9211055)
bones/9/rotation = Quaternion(0.22441043, 1.1614726e-07, 2.6879912e-08, 0.9744947)
bones/10/rotation = Quaternion(0.17625187, -5.094897e-09, 4.5067072e-08, 0.98434514)
bones/12/rotation = Quaternion(-0.08433366, 0.13239641, -0.7238383, 0.67187583)
bones/13/rotation = Quaternion(0.49809295, -0.083099, -0.15194985, 0.84965247)
bones/24/rotation = Quaternion(-0.09784382, -0.11945438, 0.72756404, 0.66843694)
bones/25/rotation = Quaternion(0.2244118, 0.0013280902, 0.15813191, 0.96157783)
bones/35/rotation = Quaternion(-5.4142056e-08, 0.6969362, 0.7171332, -5.2617224e-08)
bones/36/rotation = Quaternion(-5.4142056e-08, 0.6969362, 0.7171332, -5.2617224e-08)
bones/52/rotation = Quaternion(0.8978117, 0.1398734, -0.038215272, 0.41582346)
bones/53/rotation = Quaternion(0.5680734, 0.00215595, 0.20836568, 0.7961606)
bones/57/rotation = Quaternion(0.9160236, -0.052677356, 0.056283057, 0.3936473)
bones/58/rotation = Quaternion(0.38798663, -0.001961243, -0.011466516, 0.9215916)
bones/62/position = Vector3(0.13948633, 0.20012175, 0.020243267)
bones/64/position = Vector3(-0.19509757, 0.096297, 0.1726169)

[node name="Cube_001" parent="HitFX/metarig/Skeleton3D" index="0"]
material_override = ExtResource("10_nro0o")
surface_material_override/0 = SubResource("StandardMaterial3D_mop83")
surface_material_override/1 = SubResource("StandardMaterial3D_xundk")
surface_material_override/2 = SubResource("StandardMaterial3D_tmuqc")

[node name="Cube_003" parent="HitFX/metarig/Skeleton3D" index="1"]
material_override = ExtResource("10_nro0o")
surface_material_override/0 = SubResource("StandardMaterial3D_xvgq4")
surface_material_override/1 = SubResource("StandardMaterial3D_vvoc1")
surface_material_override/2 = SubResource("StandardMaterial3D_jmbp6")

[node name="Cube_004" parent="HitFX/metarig/Skeleton3D" index="2"]
material_override = ExtResource("10_nro0o")
surface_material_override/0 = SubResource("StandardMaterial3D_uw60x")
surface_material_override/1 = SubResource("StandardMaterial3D_cnnk2")
surface_material_override/2 = SubResource("StandardMaterial3D_l2guo")

[editable path="Body"]
[editable path="HitFX"]
