[gd_scene load_steps=28 format=3 uid="uid://c3gi3vrev7n0x"]

[ext_resource type="PackedScene" uid="uid://u7yct1quu07a" path="res://Scenes/Monsters/Monster_3D.tscn" id="1_jmbp6"]
[ext_resource type="Script" uid="uid://chd7madwhmvqt" path="res://Scripts/underBrush.cs" id="2_xundk"]
[ext_resource type="PackedScene" uid="uid://cmv8qf27awf3u" path="res://Assets/3D/charatermodel/hollow.blend" id="3_cnnk2"]
[ext_resource type="Texture2D" uid="uid://b22orgf0yx24m" path="res://Assets/2D/Wood.png" id="4_mop83"]
[ext_resource type="Texture2D" uid="uid://bjurhsgte1wdp" path="res://Assets/2D/plains_grass.png" id="5_xundk"]
[ext_resource type="Material" uid="uid://bpu6edb0a8drx" path="res://Assets/HitFX/hitMat.tres" id="10_nro0o"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_00oym"]
animation = &"Action"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ci7oq"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ht62m"]
animation = &"run"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ng0vc"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_c1rs2"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "velocity.length() > 0.2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ci7oq"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "velocity.length() <= 0.2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_m7bjp"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_attackAnim == true"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_00oym"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_attackAnim == false"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_v7ma6"]
advance_mode = 2
advance_expression = "_attackAnim == true"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_nsxmw"]
states/End/position = Vector2(882.5, 85.9062)
states/Start/position = Vector2(253.5, 85.75)
states/attack/node = SubResource("AnimationNodeAnimation_00oym")
states/attack/position = Vector2(591.875, 158.5)
states/idle/node = SubResource("AnimationNodeAnimation_ci7oq")
states/idle/position = Vector2(467, 86.0625)
states/walking/node = SubResource("AnimationNodeAnimation_ht62m")
states/walking/position = Vector2(591.062, 11.375)
transitions = ["Start", "idle", SubResource("AnimationNodeStateMachineTransition_ng0vc"), "idle", "walking", SubResource("AnimationNodeStateMachineTransition_c1rs2"), "walking", "idle", SubResource("AnimationNodeStateMachineTransition_ci7oq"), "idle", "attack", SubResource("AnimationNodeStateMachineTransition_m7bjp"), "attack", "idle", SubResource("AnimationNodeStateMachineTransition_00oym"), "walking", "attack", SubResource("AnimationNodeStateMachineTransition_v7ma6")]
graph_offset = Vector2(197, -38)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_l2guo"]
albedo_texture = ExtResource("5_xundk")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_tmuqc"]
albedo_texture = ExtResource("4_mop83")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_vvoc1"]
albedo_texture = ExtResource("4_mop83")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_uw60x"]
albedo_texture = ExtResource("4_mop83")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_le60b"]
albedo_color = Color(1, 1, 0, 1)
emission_enabled = true
emission = Color(1, 1, 0, 1)

[sub_resource type="Curve" id="Curve_demp2"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_v7ma6"]
curve = SubResource("Curve_demp2")

[sub_resource type="Curve" id="Curve_wt77t"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.504237, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_ch86k"]
curve = SubResource("Curve_wt77t")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_2r11o"]
lifetime_randomness = 1.0
angle_min = 1.07288e-05
angle_max = 360.0
direction = Vector3(0, 0, 0)
spread = 0.0
radial_velocity_min = 0.999978
radial_velocity_max = 0.999978
radial_velocity_curve = SubResource("CurveTexture_v7ma6")
gravity = Vector3(0, -2, 0)
scale_min = 0.05
scale_max = 0.1
scale_curve = SubResource("CurveTexture_ch86k")

[sub_resource type="BoxMesh" id="BoxMesh_b6irl"]

[node name="underBrush" instance=ExtResource("1_jmbp6")]
script = ExtResource("2_xundk")

[node name="CollisionShape3D" parent="." index="0"]
transform = Transform3D(1.2, 0, 0, 0, 1.2, 0, 0, 0, 1.2, 0, -0.29414, 0)
visible = false

[node name="AnimationTree" type="AnimationTree" parent="." index="2"]
root_node = NodePath("../Body")
tree_root = SubResource("AnimationNodeStateMachine_nsxmw")
advance_expression_base_node = NodePath("..")
anim_player = NodePath("../Body/AnimationPlayer")

[node name="Hurtbox" parent="." index="3"]
transform = Transform3D(1.2, 0, 0, 0, 1.2, 0, 0, 0, 1.2, 0, 0.053811, 0)
visible = false

[node name="Attackbox" parent="." index="4"]
transform = Transform3D(1.2, 0, 0, 0, 1.2, 0, 0, 0, 1.2, 0, 0.053811, 0)
visible = false
monitoring = false

[node name="CollisionShape3D" parent="Attackbox" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0668074, -0.636108)
disabled = false

[node name="Body" parent="." index="5" instance=ExtResource("3_cnnk2")]
transform = Transform3D(-1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, 0, -1.14619, 0)

[node name="Skeleton3D" parent="Body/metarig" index="0"]
bones/0/position = Vector3(-3.9968e-15, 0.912977, -0.0649478)
bones/1/rotation = Quaternion(0.240629, 1.00643e-10, 5.97213e-08, 0.970617)
bones/2/rotation = Quaternion(-0.0991209, -1.18622e-07, -1.18161e-08, 0.995075)
bones/3/rotation = Quaternion(0.000478818, -1.08799e-14, -1.20131e-17, 1)
bones/5/rotation = Quaternion(-0.228321, 1.16651e-07, -2.3012e-08, 0.973586)
bones/9/rotation = Quaternion(-0.168909, 0.0368139, -0.142868, 0.974527)
bones/10/rotation = Quaternion(-0.248927, 0.0632018, -0.337647, 0.905558)
bones/11/rotation = Quaternion(-0.296806, 0.0517805, -0.129492, 0.944699)
bones/13/rotation = Quaternion(-0.207663, 0.654864, -0.546255, 0.479203)
bones/14/rotation = Quaternion(0.335639, 0.0882038, -0.653874, 0.672321)
bones/15/rotation = Quaternion(0.0226162, -0.25658, -0.111005, 0.959861)
bones/19/rotation = Quaternion(0.25288, -0.173353, -0.440805, 0.843618)
bones/22/rotation = Quaternion(0.680424, 0.0690541, 0.0538823, 0.727565)
bones/23/rotation = Quaternion(-0.284075, 0.000560801, -0.229308, 0.930977)
bones/24/rotation = Quaternion(-0.0841456, -0.101366, 0.325742, 0.936235)
bones/26/rotation = Quaternion(-0.120531, -0.295514, 0.69938, 0.63954)
bones/27/rotation = Quaternion(-0.0447323, 0.0986433, 0.253261, 0.961316)
bones/28/rotation = Quaternion(-0.00234746, -0.0115453, -0.0414978, 0.999069)
bones/29/rotation = Quaternion(-0.0877146, -0.00614751, 0.0345232, 0.995528)
bones/30/rotation = Quaternion(0.422955, 0.0092636, 0.0034523, 0.906097)
bones/31/rotation = Quaternion(-0.392443, -0.0387694, -0.12739, 0.910086)
bones/32/rotation = Quaternion(0.0322422, 0.0125881, 0.00624543, 0.999381)
bones/33/rotation = Quaternion(0.237542, 0.00780628, 0.0653795, 0.969143)
bones/34/rotation = Quaternion(-0.35701, -0.0287962, -0.0130343, 0.933565)
bones/35/rotation = Quaternion(0.411104, -0.0029299, -0.074598, 0.908526)
bones/36/rotation = Quaternion(-0.226588, 0.0376935, -0.0252732, 0.972933)
bones/37/rotation = Quaternion(-0.357038, 0.0192177, 0.0760812, 0.930788)
bones/38/rotation = Quaternion(0.0455948, -0.000655424, -0.487011, 0.872205)
bones/39/rotation = Quaternion(-0.0417923, -0.00201471, 0.346586, 0.937085)
bones/40/rotation = Quaternion(-0.0240603, 0.010867, -0.131706, 0.990937)
bones/41/rotation = Quaternion(-0.0254295, 0.0257457, -0.0954192, 0.994779)
bones/42/rotation = Quaternion(-0.0428496, -0.0129009, 0.345496, 0.937353)
bones/43/rotation = Quaternion(0.0232368, 0.0223106, -0.437023, 0.898873)
bones/44/rotation = Quaternion(-0.0818673, -0.00431518, 0.103984, 0.991194)
bones/45/rotation = Quaternion(-0.0868516, 0.00444477, 0.18656, 0.978587)
bones/47/rotation = Quaternion(-0.212393, 0.0167277, -0.378361, 0.900806)
bones/48/rotation = Quaternion(0.0470431, -0.0913849, -0.158731, 0.981957)
bones/50/rotation = Quaternion(-0.368202, -0.0439531, 0.546166, 0.751131)
bones/51/rotation = Quaternion(0.0213336, -0.0655852, -0.0806085, 0.994357)
bones/52/rotation = Quaternion(-0.667817, 0.0358591, 0.493173, 0.55634)
bones/53/rotation = Quaternion(0.268199, -0.00406169, -0.149346, 0.951708)
bones/54/rotation = Quaternion(-0.109087, -0.177306, 0.034167, 0.977494)
bones/55/rotation = Quaternion(-0.221178, 0.120216, 0.0725925, 0.965069)
bones/56/rotation = Quaternion(-5.42024e-08, 0.696112, 0.717933, -5.2555e-08)
bones/57/rotation = Quaternion(-5.42024e-08, 0.696112, 0.717933, -5.2555e-08)
bones/60/rotation = Quaternion(0.976328, 0.0271198, -0.00607922, 0.214503)
bones/61/rotation = Quaternion(0.277222, 0.0120043, 0.0120724, 0.960655)
bones/62/rotation = Quaternion(-0.607125, -0.101813, -0.0664889, 0.785247)
bones/65/rotation = Quaternion(0.928187, -0.0296314, 0.0119817, 0.370739)
bones/66/rotation = Quaternion(0.375938, -0.016104, -0.0197662, 0.926294)
bones/67/rotation = Quaternion(-0.420648, 0.497184, 0.179545, 0.73731)
bones/68/rotation = Quaternion(-0.0613856, 0.959714, -0.268659, -0.054804)
bones/69/rotation = Quaternion(-0.632082, 0.72477, -0.180023, -0.206816)

[node name="Cube" parent="Body/metarig/Skeleton3D" index="0"]
surface_material_override/0 = SubResource("StandardMaterial3D_l2guo")
surface_material_override/1 = SubResource("StandardMaterial3D_tmuqc")
surface_material_override/2 = SubResource("StandardMaterial3D_l2guo")
surface_material_override/3 = SubResource("StandardMaterial3D_vvoc1")
surface_material_override/4 = SubResource("StandardMaterial3D_l2guo")

[node name="Cube_002" parent="Body/metarig/Skeleton3D" index="1"]
surface_material_override/0 = SubResource("StandardMaterial3D_uw60x")
surface_material_override/1 = SubResource("StandardMaterial3D_l2guo")

[node name="Cube_003" parent="Body/metarig/Skeleton3D" index="2"]
surface_material_override/0 = SubResource("StandardMaterial3D_uw60x")
surface_material_override/1 = SubResource("StandardMaterial3D_l2guo")

[node name="HitFX" parent="." index="6" instance=ExtResource("3_cnnk2")]
transform = Transform3D(-1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, 0, -1.14619, 0)
visible = false

[node name="Cube" parent="HitFX/metarig/Skeleton3D" index="0"]
material_overlay = ExtResource("10_nro0o")

[node name="Cube_002" parent="HitFX/metarig/Skeleton3D" index="1"]
material_overlay = ExtResource("10_nro0o")

[node name="Cube_003" parent="HitFX/metarig/Skeleton3D" index="2"]
material_overlay = ExtResource("10_nro0o")

[node name="Stunned" type="GPUParticles3D" parent="." index="7"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00175359, 0.654441, -0.369143)
material_override = SubResource("StandardMaterial3D_le60b")
emitting = false
amount = 50
lifetime = 0.5
process_material = SubResource("ParticleProcessMaterial_2r11o")
draw_pass_1 = SubResource("BoxMesh_b6irl")

[node name="Direction" type="Node3D" parent="." index="8"]

[editable path="Body"]
[editable path="HitFX"]
