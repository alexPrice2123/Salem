[gd_scene load_steps=45 format=3 uid="uid://huk253tl7ax7"]

[ext_resource type="PackedScene" uid="uid://u7yct1quu07a" path="res://Scenes/Monsters/Monster_3D.tscn" id="1_1rci4"]
[ext_resource type="Script" uid="uid://di4oumynvgeyd" path="res://Scripts/TheHollow.cs" id="2_ox1ja"]
[ext_resource type="PackedScene" uid="uid://cmv8qf27awf3u" path="res://Assets/3D/charatermodel/hollow.blend" id="3_nsxmw"]
[ext_resource type="Material" uid="uid://bpu6edb0a8drx" path="res://Assets/HitFX/hitMat.tres" id="3_ox1ja"]
[ext_resource type="Texture2D" uid="uid://de3emr5xm26f" path="res://Assets/2D/water-normal.png" id="4_267gr"]
[ext_resource type="Texture2D" uid="uid://b0lxcyef7wojh" path="res://Assets/monstertextures/hollow/pants_Base_color.png" id="4_demp2"]
[ext_resource type="Texture2D" uid="uid://b7yc8yncimj7o" path="res://Assets/monstertextures/hollow/shoes_Base_color.png" id="5_wt77t"]
[ext_resource type="Texture2D" uid="uid://6dsdsgg332bv" path="res://Assets/monstertextures/hollow/skin_Base_color.png" id="6_2r11o"]
[ext_resource type="Texture2D" uid="uid://b6fkg8xxs4vow" path="res://Assets/monstertextures/hollow/tenticle_Base_color.png" id="7_b6irl"]
[ext_resource type="Texture2D" uid="uid://30wvnuq4xv1b" path="res://Assets/monstertextures/hollow/face_Base_color.png" id="9_2etfa"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_demp2"]
animation = &"Action"

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_wt77t"]
filter_enabled = true
filters = ["metarig/Skeleton3D:foot.L", "metarig/Skeleton3D:foot.R", "metarig/Skeleton3D:heel.02.R", "metarig/Skeleton3D:shin.L", "metarig/Skeleton3D:shin.R", "metarig/Skeleton3D:thigh.L", "metarig/Skeleton3D:thigh.R", "metarig/Skeleton3D:toe.R"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2r11o"]
animation = &"run"

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_b6irl"]
graph_offset = Vector2(-226.134, -26.3472)
nodes/Attack/node = SubResource("AnimationNodeAnimation_demp2")
nodes/Attack/position = Vector2(-90, 30)
nodes/Blend2/node = SubResource("AnimationNodeBlend2_wt77t")
nodes/Blend2/position = Vector2(140, 40)
nodes/Run/node = SubResource("AnimationNodeAnimation_2r11o")
nodes/Run/position = Vector2(-80, 220)
nodes/output/position = Vector2(300, 40)
node_connections = [&"Blend2", 0, &"Attack", &"Blend2", 1, &"Run", &"output", 0, &"Blend2"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_00oym"]
animation = &"Action"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ci7oq"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_nsxmw"]
animation = &"run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ht62m"]
animation = &"walk"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ng0vc"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_c1rs2"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_targetVelocity.length() > 0.5"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ci7oq"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_targetVelocity.length() <= 0.5"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_m7bjp"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_attackAnim == true"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_00oym"]
xfade_time = 1.0
advance_mode = 2
advance_expression = "_attackAnim == false"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ox1ja"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_speedOffset > 0"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_nsxmw"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_speedOffset <= 0"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_uhxka"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_targetVelocity.length() <= 0.5"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_j2rcu"]
xfade_time = 1.0
advance_mode = 2
advance_expression = "_attackAnim == false"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_267gr"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_canAttack == true && _attacking == true"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_nsxmw"]
states/AttackBlend/node = SubResource("AnimationNodeBlendTree_b6irl")
states/AttackBlend/position = Vector2(779.5, 221.438)
states/End/position = Vector2(882.5, 85.9062)
states/Start/position = Vector2(253.5, 85.75)
states/attack/node = SubResource("AnimationNodeAnimation_00oym")
states/attack/position = Vector2(466.75, 206.5)
states/idle/node = SubResource("AnimationNodeAnimation_ci7oq")
states/idle/position = Vector2(467, 86.0625)
states/running/node = SubResource("AnimationNodeAnimation_nsxmw")
states/running/position = Vector2(677.5, 85.8281)
states/walking/node = SubResource("AnimationNodeAnimation_ht62m")
states/walking/position = Vector2(592.25, -29.125)
transitions = ["Start", "idle", SubResource("AnimationNodeStateMachineTransition_ng0vc"), "idle", "walking", SubResource("AnimationNodeStateMachineTransition_c1rs2"), "walking", "idle", SubResource("AnimationNodeStateMachineTransition_ci7oq"), "idle", "attack", SubResource("AnimationNodeStateMachineTransition_m7bjp"), "attack", "idle", SubResource("AnimationNodeStateMachineTransition_00oym"), "walking", "running", SubResource("AnimationNodeStateMachineTransition_ox1ja"), "running", "walking", SubResource("AnimationNodeStateMachineTransition_nsxmw"), "running", "idle", SubResource("AnimationNodeStateMachineTransition_uhxka"), "attack", "running", SubResource("AnimationNodeStateMachineTransition_j2rcu"), "running", "attack", SubResource("AnimationNodeStateMachineTransition_267gr")]
graph_offset = Vector2(109, 42)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_j2rcu"]
albedo_color = Color(0.252436, 0.168544, 0.129378, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_uhxka"]
albedo_texture = ExtResource("4_demp2")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_0r261"]
albedo_texture = ExtResource("5_wt77t")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_076r7"]
albedo_texture = ExtResource("6_2r11o")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_267gr"]
albedo_texture = ExtResource("7_b6irl")
roughness = 0.0
roughness_texture = ExtResource("4_267gr")
normal_enabled = true
normal_texture = ExtResource("4_267gr")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_demp2"]
albedo_color = Color(0.6637, 0.554798, 0.533122, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_2rqtv"]
albedo_texture = ExtResource("7_b6irl")
roughness = 0.0
roughness_texture = ExtResource("4_267gr")
normal_enabled = true
normal_texture = ExtResource("4_267gr")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ox1ja"]
albedo_texture = ExtResource("9_2etfa")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_le60b"]
albedo_color = Color(1, 1, 0, 1)
emission_enabled = true
emission = Color(1, 1, 0, 1)

[sub_resource type="Curve" id="Curve_demp2"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_267gr"]
curve = SubResource("Curve_demp2")

[sub_resource type="Curve" id="Curve_wt77t"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.504237, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_j2rcu"]
curve = SubResource("Curve_wt77t")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_2r11o"]
lifetime_randomness = 1.0
angle_min = 1.07288e-05
angle_max = 360.0
direction = Vector3(0, 0, 0)
spread = 0.0
radial_velocity_min = 0.999978
radial_velocity_max = 0.999978
radial_velocity_curve = SubResource("CurveTexture_267gr")
gravity = Vector3(0, -2, 0)
scale_min = 0.05
scale_max = 0.1
scale_curve = SubResource("CurveTexture_j2rcu")

[sub_resource type="BoxMesh" id="BoxMesh_b6irl"]

[node name="TheHollow" instance=ExtResource("1_1rci4")]
script = ExtResource("2_ox1ja")

[node name="CollisionShape3D" parent="." index="0"]
transform = Transform3D(1.2, 0, 0, 0, 1.2, 0, 0, 0, 1.2, 0, -0.0376521, 0)
visible = false

[node name="AnimationTree" type="AnimationTree" parent="." index="2"]
root_node = NodePath("../Body")
tree_root = SubResource("AnimationNodeStateMachine_nsxmw")
advance_expression_base_node = NodePath("..")
anim_player = NodePath("../Body/AnimationPlayer")
parameters/AttackBlend/Blend2/blend_amount = 1.0

[node name="Hurtbox" parent="." index="3"]
transform = Transform3D(1.2, 0, 0, 0, 1.2, 0, 0, 0, 1.2, 0, 0.053811, 0)
visible = false

[node name="Attackbox" parent="." index="4"]
transform = Transform3D(1.2, 0, 0, 0, 1.2, 0, 0, 0, 1.2, 0, 0.053811, 0)
visible = false
monitoring = false

[node name="CollisionShape3D" parent="Attackbox" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.100855, -0.808959)
disabled = false

[node name="Body" parent="." index="5" instance=ExtResource("3_nsxmw")]
transform = Transform3D(-1.2, 0, -1.04907e-07, 0, 1.2, 0, 1.04907e-07, 0, -1.2, 0, -1.14619, 0)

[node name="Skeleton3D" parent="Body/metarig" index="0"]
bones/0/position = Vector3(-3.9968e-15, 0.912977, -0.0649478)
bones/1/rotation = Quaternion(0.239686, 1.10159e-10, 5.97185e-08, 0.970851)
bones/2/rotation = Quaternion(-0.0991209, -1.18622e-07, -1.18161e-08, 0.995075)
bones/3/rotation = Quaternion(0.000478818, -1.08799e-14, -1.20131e-17, 1)
bones/5/rotation = Quaternion(-0.230289, 1.16663e-07, -2.27718e-08, 0.973122)
bones/9/rotation = Quaternion(-0.174339, 0.0389736, -0.147195, 0.972842)
bones/10/rotation = Quaternion(-0.252619, 0.0638943, -0.340085, 0.903573)
bones/11/rotation = Quaternion(-0.299796, 0.0521762, -0.131966, 0.94339)
bones/13/rotation = Quaternion(-0.207234, 0.654935, -0.545221, 0.480467)
bones/14/rotation = Quaternion(0.335639, 0.0882038, -0.653874, 0.672321)
bones/15/rotation = Quaternion(0.0226162, -0.25658, -0.111005, 0.959861)
bones/19/rotation = Quaternion(0.25288, -0.173353, -0.440805, 0.843618)
bones/22/rotation = Quaternion(0.676664, 0.0690857, 0.0473045, 0.731515)
bones/23/rotation = Quaternion(-0.278479, 0.00654451, -0.219617, 0.934973)
bones/24/rotation = Quaternion(-0.0910588, -0.102331, 0.315435, 0.939009)
bones/26/rotation = Quaternion(-0.120531, -0.295514, 0.69938, 0.63954)
bones/27/rotation = Quaternion(-0.0447323, 0.0986433, 0.253261, 0.961316)
bones/28/rotation = Quaternion(-0.00437921, -0.0109375, -0.0403245, 0.999117)
bones/29/rotation = Quaternion(-0.090578, -0.00675933, 0.0281268, 0.995469)
bones/30/rotation = Quaternion(0.418434, 0.00914082, 0.00191351, 0.908199)
bones/31/rotation = Quaternion(-0.392466, -0.0388714, -0.127305, 0.910084)
bones/32/rotation = Quaternion(0.0275135, 0.0126176, 0.00444947, 0.999532)
bones/33/rotation = Quaternion(0.228223, 0.00753198, 0.0616201, 0.971628)
bones/34/rotation = Quaternion(-0.357246, -0.0290802, -0.0120173, 0.93348)
bones/35/rotation = Quaternion(0.407537, -0.00303167, -0.0753809, 0.910067)
bones/36/rotation = Quaternion(-0.214368, 0.0397598, -0.0225593, 0.975683)
bones/37/rotation = Quaternion(-0.357038, 0.0192177, 0.0760812, 0.930788)
bones/38/rotation = Quaternion(0.0454349, -0.000740767, -0.486539, 0.872476)
bones/39/rotation = Quaternion(-0.0409729, -0.00224465, 0.344453, 0.937906)
bones/40/rotation = Quaternion(-0.0229028, 0.0116401, -0.136573, 0.990297)
bones/41/rotation = Quaternion(-0.0268609, 0.0267563, -0.092022, 0.995035)
bones/42/rotation = Quaternion(-0.0430655, -0.0127568, 0.34647, 0.936985)
bones/43/rotation = Quaternion(0.0210809, 0.021953, -0.436074, 0.899396)
bones/44/rotation = Quaternion(-0.0862514, -0.00396563, 0.10693, 0.99051)
bones/45/rotation = Quaternion(-0.0951193, 0.00710739, 0.184016, 0.978284)
bones/47/rotation = Quaternion(-0.212372, 0.022553, -0.373086, 0.902882)
bones/48/rotation = Quaternion(0.0516447, -0.100324, -0.174257, 0.978214)
bones/50/rotation = Quaternion(-0.363137, -0.049581, 0.542729, 0.755724)
bones/51/rotation = Quaternion(0.0242983, -0.0728929, -0.0904615, 0.992932)
bones/52/rotation = Quaternion(-0.664128, 0.0396789, 0.49597, 0.558008)
bones/53/rotation = Quaternion(0.258454, -0.00449613, -0.143866, 0.95524)
bones/54/rotation = Quaternion(-0.104814, -0.184009, 0.0326139, 0.976776)
bones/55/rotation = Quaternion(-0.226665, 0.130125, 0.0790374, 0.962)
bones/56/rotation = Quaternion(-5.42024e-08, 0.696112, 0.717933, -5.2555e-08)
bones/57/rotation = Quaternion(-5.42024e-08, 0.696112, 0.717933, -5.2555e-08)
bones/60/rotation = Quaternion(0.976328, 0.0271198, -0.00607922, 0.214503)
bones/61/rotation = Quaternion(0.277222, 0.0120043, 0.0120724, 0.960655)
bones/62/rotation = Quaternion(-0.606584, -0.105996, -0.0676877, 0.785009)
bones/65/rotation = Quaternion(0.928187, -0.0296314, 0.0119817, 0.370739)
bones/66/rotation = Quaternion(0.375938, -0.016104, -0.0197662, 0.926294)
bones/67/rotation = Quaternion(-0.420648, 0.497184, 0.179545, 0.73731)
bones/68/rotation = Quaternion(-0.0613856, 0.959714, -0.268659, -0.054804)
bones/69/rotation = Quaternion(-0.632082, 0.72477, -0.180023, -0.206816)

[node name="Cube" parent="Body/metarig/Skeleton3D" index="0"]
surface_material_override/0 = SubResource("StandardMaterial3D_j2rcu")
surface_material_override/1 = SubResource("StandardMaterial3D_uhxka")
surface_material_override/2 = SubResource("StandardMaterial3D_0r261")
surface_material_override/3 = SubResource("StandardMaterial3D_076r7")
surface_material_override/4 = SubResource("StandardMaterial3D_267gr")

[node name="Cube_002" parent="Body/metarig/Skeleton3D" index="1"]
surface_material_override/0 = SubResource("StandardMaterial3D_demp2")
surface_material_override/1 = SubResource("StandardMaterial3D_2rqtv")

[node name="Cube_003" parent="Body/metarig/Skeleton3D" index="2"]
surface_material_override/0 = SubResource("StandardMaterial3D_ox1ja")
surface_material_override/1 = SubResource("StandardMaterial3D_267gr")

[node name="HitFX" parent="." index="6" instance=ExtResource("3_nsxmw")]
transform = Transform3D(-1.2, 0, -1.04907e-07, 0, 1.2, 0, 1.04907e-07, 0, -1.2, 0, -1.14619, 0)
visible = false

[node name="Skeleton3D" parent="HitFX/metarig" index="0"]
bones/0/position = Vector3(-3.9968e-15, 0.912977, -0.0649478)
bones/1/rotation = Quaternion(0.284173, 2.84217e-14, 6.77521e-08, 0.958773)
bones/2/rotation = Quaternion(-0.0991209, -1.18622e-07, -1.18161e-08, 0.995075)
bones/3/rotation = Quaternion(0.000478818, -1.08799e-14, -1.20139e-17, 1)
bones/5/rotation = Quaternion(-0.38456, 1.10042e-07, -4.58431e-08, 0.9231)
bones/9/rotation = Quaternion(-0.22083, 0.0575338, -0.184215, 0.956028)
bones/10/rotation = Quaternion(-0.277635, 0.15187, -0.198989, 0.927501)
bones/11/rotation = Quaternion(-0.3901, 0.123831, -0.206921, 0.888635)
bones/13/rotation = Quaternion(-0.226271, 0.732241, -0.477034, 0.43019)
bones/14/rotation = Quaternion(0.398887, -0.0288493, -0.242767, 0.883811)
bones/15/rotation = Quaternion(0.0490065, -0.344076, 0.0279398, 0.937246)
bones/19/rotation = Quaternion(0.25288, -0.173353, -0.440805, 0.843618)
bones/22/rotation = Quaternion(0.711852, 0.0685469, 0.112558, 0.689854)
bones/23/rotation = Quaternion(-0.330266, -0.0510745, -0.311235, 0.889634)
bones/24/rotation = Quaternion(-0.0231177, -0.0922266, 0.413599, 0.905481)
bones/26/rotation = Quaternion(0.0179056, -0.755852, 0.44559, 0.479393)
bones/27/rotation = Quaternion(-0.069755, 0.123798, 0.340967, 0.929274)
bones/28/rotation = Quaternion(0.0158522, -0.0169864, -0.0519967, 0.998377)
bones/29/rotation = Quaternion(-0.0587827, -9.49878e-08, 0.0985229, 0.993397)
bones/30/rotation = Quaternion(0.357781, 0.00628193, -0.014276, 0.933675)
bones/31/rotation = Quaternion(-0.463475, -0.0465372, -0.152119, 0.871714)
bones/32/rotation = Quaternion(0.0739029, 0.0123135, 0.0220748, 0.996945)
bones/33/rotation = Quaternion(-0.241113, -0.0934767, -0.0515421, 0.964609)
bones/34/rotation = Quaternion(-0.354926, -0.0263061, -0.0219468, 0.934267)
bones/35/rotation = Quaternion(0.441829, -0.00204367, -0.0677459, 0.894535)
bones/36/rotation = Quaternion(-0.329509, 0.0197661, -0.0483034, 0.942709)
bones/37/rotation = Quaternion(-0.357038, 0.0192177, 0.0760812, 0.930788)
bones/38/rotation = Quaternion(0.0196612, 0.0120678, -0.418309, 0.908012)
bones/39/rotation = Quaternion(-0.16055, -0.0741426, 0.329231, 0.927542)
bones/40/rotation = Quaternion(-0.0349104, 0.00358544, -0.0857868, 0.995695)
bones/41/rotation = Quaternion(-0.207173, -0.0753781, -0.0387499, 0.974626)
bones/42/rotation = Quaternion(-0.0264838, -0.03825, 0.178116, 0.982909)
bones/43/rotation = Quaternion(0.0154226, 0.15809, -0.304409, 0.939204)
bones/44/rotation = Quaternion(-0.128816, 0.0334877, 0.366294, 0.920931)
bones/45/rotation = Quaternion(-0.386115, 0.0427732, -0.180933, 0.90352)
bones/47/rotation = Quaternion(-0.211895, -0.0387408, -0.427288, 0.87808)
bones/48/rotation = Quaternion(-1.26995e-07, -5.54137e-08, -1.14902e-07, 1)
bones/50/rotation = Quaternion(-0.410466, 0.00470811, 0.573738, 0.708745)
bones/51/rotation = Quaternion(-0.00523678, -5.08579e-07, 0.00776364, 0.999956)
bones/52/rotation = Quaternion(-0.701124, -1.05635e-07, 0.466032, 0.539666)
bones/53/rotation = Quaternion(0.356943, 6.87736e-08, -0.199253, 0.912628)
bones/54/rotation = Quaternion(0.274199, -0.338453, 0.0300901, 0.899644)
bones/55/rotation = Quaternion(-0.168522, 0.0275064, 0.0123362, 0.985237)
bones/56/rotation = Quaternion(-5.42024e-08, 0.696112, 0.717933, -5.2555e-08)
bones/60/rotation = Quaternion(0.919634, 0.0255226, -0.0110017, 0.391791)
bones/61/rotation = Quaternion(0.277222, 0.0120043, 0.0120724, 0.960655)
bones/62/rotation = Quaternion(-0.440097, -0.0439021, -0.0622725, 0.894712)
bones/65/rotation = Quaternion(0.985444, -0.03149, 0.00547326, 0.166967)
bones/66/rotation = Quaternion(0.287471, -0.0123424, -0.020448, 0.957491)
bones/67/rotation = Quaternion(-0.625875, 0.0492361, 0.0450357, 0.777063)
bones/68/rotation = Quaternion(-0.0613856, 0.959714, -0.268659, -0.054804)
bones/69/rotation = Quaternion(-0.632082, 0.72477, -0.180023, -0.206816)

[node name="Cube" parent="HitFX/metarig/Skeleton3D" index="0"]
material_overlay = ExtResource("3_ox1ja")

[node name="Cube_002" parent="HitFX/metarig/Skeleton3D" index="1"]
material_overlay = ExtResource("3_ox1ja")

[node name="Cube_003" parent="HitFX/metarig/Skeleton3D" index="2"]
material_overlay = ExtResource("3_ox1ja")

[node name="Stunned" type="GPUParticles3D" parent="." index="7"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00175359, 1.00834, -0.425363)
material_override = SubResource("StandardMaterial3D_le60b")
emitting = false
amount = 50
lifetime = 0.5
process_material = SubResource("ParticleProcessMaterial_2r11o")
draw_pass_1 = SubResource("BoxMesh_b6irl")

[editable path="Body"]
[editable path="HitFX"]
