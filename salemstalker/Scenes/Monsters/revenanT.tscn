[gd_scene load_steps=27 format=3 uid="uid://ygedjap5uefs"]

[ext_resource type="PackedScene" uid="uid://u7yct1quu07a" path="res://Scenes/Monsters/Monster_3D.tscn" id="1_lx15r"]
[ext_resource type="Script" uid="uid://dpigxdlyi5vlp" path="res://Scripts/MonsterScripts/revenanT.cs" id="2_lx15r"]
[ext_resource type="PackedScene" uid="uid://b0pjf0adekcdl" path="res://Assets/3D/charatermodel/revenant2.blend" id="4_eu2vu"]
[ext_resource type="PackedScene" uid="uid://dexjdh08xo2cy" path="res://Assets/3D/charatermodel/revenant3.blend" id="5_xkk2d"]
[ext_resource type="PackedScene" uid="uid://c64dt11ffc1vy" path="res://Assets/3D/charatermodel/revenant1.blend" id="11_x53ev"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_v7ma6"]
albedo_color = Color(1, 1, 0, 1)
emission_enabled = true
emission = Color(1, 1, 0, 1)

[sub_resource type="Curve" id="Curve_ch86k"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_v7ma6"]
curve = SubResource("Curve_ch86k")

[sub_resource type="Curve" id="Curve_p1kej"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.504237, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_ch86k"]
curve = SubResource("Curve_p1kej")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_ex21e"]
lifetime_randomness = 1.0
angle_min = 1.07288e-05
angle_max = 360.0
direction = Vector3(0, 0, 0)
spread = 0.0
radial_velocity_min = 0.999978
radial_velocity_max = 0.999978
radial_velocity_curve = SubResource("CurveTexture_v7ma6")
gravity = Vector3(0, -2, 0)
scale_min = 0.05
scale_max = 0.1
scale_curve = SubResource("CurveTexture_ch86k")

[sub_resource type="BoxMesh" id="BoxMesh_y62gh"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_00oym"]
animation = &"attack1"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_v7ma6"]
animation = &"attack2"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ci7oq"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ht62m"]
animation = &"run"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ng0vc"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_c1rs2"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "velocity.length() > 0.2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ci7oq"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "velocity.length() <= 0.2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_m7bjp"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_attackAnim == true && _attackAnimSwitch == 1"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_00oym"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_attackAnim == false"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_v7ma6"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_attackAnim == true && _attackAnimSwitch == 1"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ch86k"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_attackAnim == true && _attackAnimSwitch == 2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_p1kej"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_attackAnim == false"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ex21e"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_attackAnim == true && _attackAnimSwitch == 2"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_koebn"]
states/End/position = Vector2(882.5, 85.9062)
states/Start/position = Vector2(253.5, 85.75)
states/attack/node = SubResource("AnimationNodeAnimation_00oym")
states/attack/position = Vector2(465.35925, 236.25)
states/attack2/node = SubResource("AnimationNodeAnimation_v7ma6")
states/attack2/position = Vector2(600, 238.0625)
states/idle/node = SubResource("AnimationNodeAnimation_ci7oq")
states/idle/position = Vector2(465.64444, 85.828094)
states/walking/node = SubResource("AnimationNodeAnimation_ht62m")
states/walking/position = Vector2(592.562, 85.890594)
transitions = ["Start", "idle", SubResource("AnimationNodeStateMachineTransition_ng0vc"), "idle", "walking", SubResource("AnimationNodeStateMachineTransition_c1rs2"), "walking", "idle", SubResource("AnimationNodeStateMachineTransition_ci7oq"), "idle", "attack", SubResource("AnimationNodeStateMachineTransition_m7bjp"), "attack", "idle", SubResource("AnimationNodeStateMachineTransition_00oym"), "walking", "attack", SubResource("AnimationNodeStateMachineTransition_v7ma6"), "walking", "attack2", SubResource("AnimationNodeStateMachineTransition_ch86k"), "attack2", "idle", SubResource("AnimationNodeStateMachineTransition_p1kej"), "idle", "attack2", SubResource("AnimationNodeStateMachineTransition_ex21e")]
graph_offset = Vector2(39, -85)

[node name="revenanT" instance=ExtResource("1_lx15r")]
script = ExtResource("2_lx15r")

[node name="Stunned" type="GPUParticles3D" parent="." index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00175359, 1.803534, -0.052372336)
material_override = SubResource("StandardMaterial3D_v7ma6")
emitting = false
amount = 50
lifetime = 0.5
process_material = SubResource("ParticleProcessMaterial_ex21e")
draw_pass_1 = SubResource("BoxMesh_y62gh")

[node name="AnimationTree1" type="AnimationTree" parent="." index="2"]
root_node = NodePath("../Body1")
tree_root = SubResource("AnimationNodeStateMachine_koebn")
advance_expression_base_node = NodePath("..")
anim_player = NodePath("../Body1/AnimationPlayer")

[node name="AnimationTree2" type="AnimationTree" parent="." index="3"]
root_node = NodePath("../Body2")
tree_root = SubResource("AnimationNodeStateMachine_koebn")
advance_expression_base_node = NodePath("..")
anim_player = NodePath("../Body2/AnimationPlayer")

[node name="AnimationTree3" type="AnimationTree" parent="." index="4"]
root_node = NodePath("../Body3")
tree_root = SubResource("AnimationNodeStateMachine_koebn")
advance_expression_base_node = NodePath("..")
anim_player = NodePath("../Body3/AnimationPlayer")

[node name="Hurtbox" parent="." index="6"]
transform = Transform3D(1.2, 0, 0, 0, 1.2, 0, 0, 0, 1.2, 0, 1.1488323, 0)
visible = false

[node name="Direction" type="Node3D" parent="." index="7"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.0950214, 0)

[node name="Body1" parent="." index="8" instance=ExtResource("11_x53ev")]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, 0, 0, 0)

[node name="Skeleton3D" parent="Body1/metarig" index="0"]
bones/0/position = Vector3(5.9712604e-09, 0.8976735, -0.09470449)
bones/0/rotation = Quaternion(0.12581961, -1.1826187e-07, -1.4998863e-08, 0.99205315)
bones/1/rotation = Quaternion(0.19410767, 8.5548735e-10, -4.610957e-08, 0.9809803)
bones/2/rotation = Quaternion(-0.0596423, -1.13155785e-07, 3.281199e-08, 0.99821985)
bones/6/rotation = Quaternion(-0.016902654, -0.005291231, -0.008291427, 0.9998087)
bones/8/position = Vector3(-0.02276528, 0.17998815, -0.026133535)
bones/8/rotation = Quaternion(-0.5398147, 0.61422884, -0.5472767, 0.1783575)
bones/9/rotation = Quaternion(-0.0044049835, -0.001667671, -0.039113663, 0.9992237)
bones/10/rotation = Quaternion(-0.08810394, -0.22337076, 0.06353763, 0.96866214)
bones/14/rotation = Quaternion(0.02209185, 0.023288744, -0.35984567, 0.9324595)
bones/18/position = Vector3(0.012684404, 0.18003067, -0.0088179065)
bones/18/rotation = Quaternion(0.542459, 0.59256357, -0.56819093, -0.17822951)
bones/19/rotation = Quaternion(0.00775367, 0.004847277, 0.03690624, 0.9992769)
bones/20/rotation = Quaternion(-0.086885765, 0.22495453, -0.066494726, 0.96820706)
bones/24/rotation = Quaternion(0.023022585, -0.022360185, 0.35671937, 0.93366015)
bones/27/rotation = Quaternion(9.263001e-08, 0.6961122, 0.717933, -2.1852111e-07)
bones/28/rotation = Quaternion(9.263001e-08, 0.6961122, 0.717933, -2.1852111e-07)
bones/29/rotation = Quaternion(-0.31443802, 0.9132158, 0.07670641, -0.24755158)
bones/31/rotation = Quaternion(0.92696846, -0.10131391, 0.16958229, 0.31891528)
bones/32/rotation = Quaternion(0.30359283, 0.0063686906, -0.035614002, 0.95211476)
bones/33/rotation = Quaternion(-0.5678332, 0.005343597, -0.0062981346, 0.8231022)
bones/35/rotation = Quaternion(-0.62599206, 0.7333399, -0.15466383, -0.21546626)
bones/36/rotation = Quaternion(0.92675877, 0.115232535, -0.17107591, 0.3139631)
bones/37/rotation = Quaternion(0.3002889, -0.007973879, 0.06144931, 0.9518335)
bones/38/rotation = Quaternion(-0.53644854, -0.049649447, -0.008458966, 0.8424288)
bones/39/rotation = Quaternion(0.08651459, 0.9612038, -0.26165038, -0.011900042)
bones/41/position = Vector3(0.21605, 0.08240292, -0.015668165)
bones/42/position = Vector3(0.036925074, -0.22712123, 0.5029397)
bones/43/position = Vector3(-0.21728185, 0.08240292, -0.015668165)
bones/44/position = Vector3(-0.03692506, -0.22712123, 0.50293976)

[node name="HitFX1" parent="." index="9" instance=ExtResource("11_x53ev")]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, 0, 0, 0)
visible = false

[node name="Body2" parent="." index="10" instance=ExtResource("4_eu2vu")]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, 0, 0, 0)

[node name="Skeleton3D" parent="Body2/metarig" index="0"]
bones/0/position = Vector3(-5.7228444e-11, 0.91277015, -0.06495266)
bones/0/rotation = Quaternion(0.12581961, -1.1826187e-07, -1.4998863e-08, 0.99205315)
bones/1/rotation = Quaternion(0.19410767, 8.5548735e-10, -4.610957e-08, 0.9809803)
bones/2/rotation = Quaternion(-0.0990656, -1.1581983e-07, 1.6304536e-08, 0.99508095)
bones/6/rotation = Quaternion(-0.032988384, -5.982627e-06, -9.178973e-06, 0.99945575)
bones/8/position = Vector3(-0.02276528, 0.17998815, -0.026133535)
bones/8/rotation = Quaternion(-0.51857793, 0.5931857, -0.5739902, 0.22303116)
bones/9/rotation = Quaternion(-0.038529526, -0.0014419176, -0.018563936, 0.99908406)
bones/10/rotation = Quaternion(-0.08810394, -0.22337076, 0.06353763, 0.96866214)
bones/14/rotation = Quaternion(0.02209185, 0.023288744, -0.35984567, 0.9324595)
bones/18/position = Vector3(0.012684404, 0.18003067, -0.0088179065)
bones/18/rotation = Quaternion(0.51535445, 0.6000644, -0.57277703, -0.21507901)
bones/19/rotation = Quaternion(0.0699213, 0.0051424103, 0.073258676, 0.99484557)
bones/20/rotation = Quaternion(-0.086885765, 0.22495453, -0.066494726, 0.96820706)
bones/24/rotation = Quaternion(0.023022585, -0.022360185, 0.35671937, 0.93366015)
bones/27/rotation = Quaternion(9.263001e-08, 0.6961122, 0.717933, -2.1852111e-07)
bones/28/rotation = Quaternion(9.263001e-08, 0.6961122, 0.717933, -2.1852111e-07)
bones/29/rotation = Quaternion(-0.31443802, 0.9132158, 0.07670641, -0.24755158)
bones/31/rotation = Quaternion(0.94137263, -0.092735626, 0.18217817, 0.268382)
bones/32/rotation = Quaternion(0.24380253, 0.0064841844, -0.028600074, 0.9693814)
bones/33/rotation = Quaternion(-0.5678332, 0.005343597, -0.0062981346, 0.8231022)
bones/35/rotation = Quaternion(-0.62599206, 0.7333399, -0.15466383, -0.21546626)
bones/36/rotation = Quaternion(0.94118375, 0.10381912, -0.182868, 0.26448852)
bones/37/rotation = Quaternion(0.24156581, -0.00811843, 0.04943257, 0.9690906)
bones/38/rotation = Quaternion(-0.53644854, -0.049649447, -0.008458966, 0.8424288)
bones/39/rotation = Quaternion(0.08651459, 0.9612038, -0.26165038, -0.011900042)
bones/41/position = Vector3(0.21605, 0.08240292, -0.015668165)
bones/42/position = Vector3(0.036925074, -0.22712123, 0.5029397)
bones/43/position = Vector3(-0.21728185, 0.08240292, -0.015668165)
bones/44/position = Vector3(-0.03692506, -0.22712123, 0.50293976)

[node name="HitFX2" parent="." index="11" instance=ExtResource("4_eu2vu")]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, 0, 0, 0)
visible = false

[node name="Body3" parent="." index="12" instance=ExtResource("5_xkk2d")]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, 0, 0, 0)

[node name="Skeleton3D" parent="Body3/metarig" index="0"]
bones/0/position = Vector3(8.326673e-15, 0.91277266, -0.06494777)
bones/0/rotation = Quaternion(0.12581961, -1.1826187e-07, -1.4998863e-08, 0.99205315)
bones/1/rotation = Quaternion(0.19410767, 8.5548735e-10, -4.610957e-08, 0.9809803)
bones/2/rotation = Quaternion(-0.09907189, -1.1582004e-07, 1.6303819e-08, 0.9950803)
bones/6/rotation = Quaternion(-0.033010166, -1.1868621e-07, 9.9372945e-09, 0.99945503)
bones/8/position = Vector3(-0.02276528, 0.17998815, -0.026133535)
bones/8/rotation = Quaternion(-0.5185745, 0.5931823, -0.5739943, 0.22303808)
bones/9/rotation = Quaternion(-0.038541775, -0.0014418367, -0.018556546, 0.99908364)
bones/10/rotation = Quaternion(-0.08810394, -0.22337076, 0.06353763, 0.96866214)
bones/14/rotation = Quaternion(0.02209185, 0.023288744, -0.35984567, 0.9324595)
bones/18/position = Vector3(0.012684404, 0.18003067, -0.0088179065)
bones/18/rotation = Quaternion(0.51535106, 0.60006523, -0.5727775, -0.21508357)
bones/19/rotation = Quaternion(0.06992548, 0.0051424294, 0.07326111, 0.9948451)
bones/20/rotation = Quaternion(-0.086885765, 0.22495453, -0.066494726, 0.96820706)
bones/24/rotation = Quaternion(0.023022585, -0.022360185, 0.35671937, 0.93366015)
bones/27/rotation = Quaternion(9.263001e-08, 0.6961122, 0.717933, -2.1852111e-07)
bones/28/rotation = Quaternion(9.263001e-08, 0.6961122, 0.717933, -2.1852111e-07)
bones/29/rotation = Quaternion(-0.31443802, 0.9132158, 0.07670641, -0.24755158)
bones/31/rotation = Quaternion(0.9413742, -0.09273439, 0.18217975, 0.26837555)
bones/32/rotation = Quaternion(0.24379773, 0.0064841937, -0.028599514, 0.96938264)
bones/33/rotation = Quaternion(-0.5678332, 0.005343597, -0.0062981346, 0.8231022)
bones/35/rotation = Quaternion(-0.62599206, 0.7333399, -0.15466383, -0.21546626)
bones/36/rotation = Quaternion(0.94118536, 0.10381751, -0.18286943, 0.26448223)
bones/37/rotation = Quaternion(0.24156113, -0.00811844, 0.049431603, 0.96909183)
bones/38/rotation = Quaternion(-0.53644854, -0.049649447, -0.008458966, 0.8424288)
bones/39/rotation = Quaternion(0.08651459, 0.9612038, -0.26165038, -0.011900042)
bones/41/position = Vector3(0.21605, 0.08240292, -0.015668165)
bones/42/position = Vector3(0.036925074, -0.22712123, 0.5029397)
bones/43/position = Vector3(-0.21728185, 0.08240292, -0.015668165)
bones/44/position = Vector3(-0.03692506, -0.22712123, 0.50293976)

[node name="HitFX3" parent="." index="13" instance=ExtResource("5_xkk2d")]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, 0, 0, 0)
visible = false

[node name="Attackbox" parent="." index="14"]
transform = Transform3D(1.2, 0, 0, 0, 1.2, 0, 0, 0, 1.2, 0, 1.1488323, 0)

[node name="CollisionShape3D" parent="Attackbox" index="0"]
transform = Transform3D(0.99999976, 0, 0, 0, 0.99999976, 0, 0, 0, 0.99999976, 0, -0.06680733, -0.61794984)

[editable path="Body1"]
[editable path="HitFX1"]
[editable path="Body2"]
[editable path="HitFX2"]
[editable path="Body3"]
[editable path="HitFX3"]
