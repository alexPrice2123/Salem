[gd_scene load_steps=41 format=3 uid="uid://ygedjap5uefs"]

[ext_resource type="PackedScene" uid="uid://u7yct1quu07a" path="res://Scenes/Monsters/Monster_3D.tscn" id="1_lx15r"]
[ext_resource type="Script" uid="uid://dpigxdlyi5vlp" path="res://Scripts/MonsterScripts/revenanT.cs" id="2_lx15r"]
[ext_resource type="PackedScene" uid="uid://b0pjf0adekcdl" path="res://Assets/3D/charatermodel/revenant2.blend" id="4_eu2vu"]
[ext_resource type="PackedScene" uid="uid://dexjdh08xo2cy" path="res://Assets/3D/charatermodel/revenant3.blend" id="5_xkk2d"]
[ext_resource type="PackedScene" uid="uid://c64dt11ffc1vy" path="res://Assets/3D/charatermodel/revenant1.blend" id="11_x53ev"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_v7ma6"]
albedo_color = Color(1, 1, 0, 1)
emission_enabled = true
emission = Color(1, 1, 0, 1)

[sub_resource type="Curve" id="Curve_ch86k"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_v7ma6"]
curve = SubResource("Curve_ch86k")

[sub_resource type="Curve" id="Curve_p1kej"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.504237, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_ch86k"]
curve = SubResource("Curve_p1kej")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_ex21e"]
lifetime_randomness = 1.0
angle_min = 1.07288e-05
angle_max = 360.0
direction = Vector3(0, 0, 0)
spread = 0.0
radial_velocity_min = 0.999978
radial_velocity_max = 0.999978
radial_velocity_curve = SubResource("CurveTexture_v7ma6")
gravity = Vector3(0, -2, 0)
scale_min = 0.05
scale_max = 0.1
scale_curve = SubResource("CurveTexture_ch86k")

[sub_resource type="BoxMesh" id="BoxMesh_y62gh"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_00oym"]
animation = &"attack1"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_v7ma6"]
animation = &"attack2"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ci7oq"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ht62m"]
animation = &"walk"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ng0vc"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_c1rs2"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "velocity.length() > 0.2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ci7oq"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "velocity.length() <= 0.2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_m7bjp"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_attackAnim == true && _attackAnimSwitch == 1"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_00oym"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_attackAnim == false"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_v7ma6"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_attackAnim == true && _attackAnimSwitch == 1"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ch86k"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_attackAnim == true && _attackAnimSwitch == 2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_p1kej"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_attackAnim == false"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ex21e"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_attackAnim == true && _attackAnimSwitch == 2"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_koebn"]
states/End/position = Vector2(882.5, 85.9062)
states/Start/position = Vector2(253.5, 85.75)
states/attack/node = SubResource("AnimationNodeAnimation_00oym")
states/attack/position = Vector2(379.35925, 273.25)
states/attack2/node = SubResource("AnimationNodeAnimation_v7ma6")
states/attack2/position = Vector2(728, 244.0625)
states/idle/node = SubResource("AnimationNodeAnimation_ci7oq")
states/idle/position = Vector2(465.50183, 86.36714)
states/walking/node = SubResource("AnimationNodeAnimation_ht62m")
states/walking/position = Vector2(592.562, 85.890594)
transitions = ["Start", "idle", SubResource("AnimationNodeStateMachineTransition_ng0vc"), "idle", "walking", SubResource("AnimationNodeStateMachineTransition_c1rs2"), "walking", "idle", SubResource("AnimationNodeStateMachineTransition_ci7oq"), "idle", "attack", SubResource("AnimationNodeStateMachineTransition_m7bjp"), "attack", "idle", SubResource("AnimationNodeStateMachineTransition_00oym"), "walking", "attack", SubResource("AnimationNodeStateMachineTransition_v7ma6"), "walking", "attack2", SubResource("AnimationNodeStateMachineTransition_ch86k"), "attack2", "idle", SubResource("AnimationNodeStateMachineTransition_p1kej"), "idle", "attack2", SubResource("AnimationNodeStateMachineTransition_ex21e")]
graph_offset = Vector2(59, 35)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_eu2vu"]
animation = &"attack1"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_xkk2d"]
animation = &"attack2"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_l7poh"]
animation = &"idle2"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_s75yh"]
animation = &"walk2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_thrgy"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_lx15r"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "velocity.length() > 0.2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_x53ev"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "velocity.length() <= 0.2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_dak7u"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_attackAnim == true && _attackAnimSwitch == 1"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_4sro7"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_attackAnim == true && _attackAnimSwitch == 2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_a8whq"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_attackAnim == true && _attackAnimSwitch == 2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_qlfnw"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_attackAnim == true && _attackAnimSwitch == 1"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_31ccv"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_attackAnim == false"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_cnnk0"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_attackAnim == false"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_ts2io"]
states/attack1/node = SubResource("AnimationNodeAnimation_eu2vu")
states/attack1/position = Vector2(315.5, 219.5)
states/attack2/node = SubResource("AnimationNodeAnimation_xkk2d")
states/attack2/position = Vector2(581, 219.5)
states/idle2/node = SubResource("AnimationNodeAnimation_l7poh")
states/idle2/position = Vector2(397.5, 99.75)
states/walk2/node = SubResource("AnimationNodeAnimation_s75yh")
states/walk2/position = Vector2(531.5, 99.875)
transitions = ["Start", "idle2", SubResource("AnimationNodeStateMachineTransition_thrgy"), "idle2", "walk2", SubResource("AnimationNodeStateMachineTransition_lx15r"), "walk2", "idle2", SubResource("AnimationNodeStateMachineTransition_x53ev"), "idle2", "attack1", SubResource("AnimationNodeStateMachineTransition_dak7u"), "walk2", "attack2", SubResource("AnimationNodeStateMachineTransition_4sro7"), "idle2", "attack2", SubResource("AnimationNodeStateMachineTransition_a8whq"), "walk2", "attack1", SubResource("AnimationNodeStateMachineTransition_qlfnw"), "attack1", "idle2", SubResource("AnimationNodeStateMachineTransition_31ccv"), "attack2", "idle2", SubResource("AnimationNodeStateMachineTransition_cnnk0")]

[node name="revenanT" instance=ExtResource("1_lx15r")]
script = ExtResource("2_lx15r")

[node name="Stunned" type="GPUParticles3D" parent="." index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00175359, 1.803534, -0.052372336)
material_override = SubResource("StandardMaterial3D_v7ma6")
emitting = false
amount = 50
lifetime = 0.5
process_material = SubResource("ParticleProcessMaterial_ex21e")
draw_pass_1 = SubResource("BoxMesh_y62gh")

[node name="AnimationTree1" type="AnimationTree" parent="." index="2"]
root_node = NodePath("../Body1")
tree_root = SubResource("AnimationNodeStateMachine_koebn")
advance_expression_base_node = NodePath("..")
anim_player = NodePath("../Body1/AnimationPlayer")

[node name="AnimationTree2" type="AnimationTree" parent="." index="3"]
root_node = NodePath("../Body2")
tree_root = SubResource("AnimationNodeStateMachine_ts2io")
advance_expression_base_node = NodePath("..")
anim_player = NodePath("../Body2/AnimationPlayer")

[node name="AnimationTree3" type="AnimationTree" parent="." index="4"]
root_node = NodePath("../Body3")
tree_root = SubResource("AnimationNodeStateMachine_koebn")
advance_expression_base_node = NodePath("..")
anim_player = NodePath("../Body3/AnimationPlayer")

[node name="Hurtbox" parent="." index="6"]
transform = Transform3D(1.2, 0, 0, 0, 1.2, 0, 0, 0, 1.2, 0, 1.1488323, 0)
visible = false

[node name="Direction" type="Node3D" parent="." index="7"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.0950214, 0)

[node name="Body1" parent="." index="8" instance=ExtResource("11_x53ev")]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, 0, 0, 0)

[node name="Skeleton3D" parent="Body1/metarig" index="0"]
bones/0/position = Vector3(-1.0278743e-09, 0.89868456, -0.09271194)
bones/0/rotation = Quaternion(0.12581961, -1.1826187e-07, -1.4998863e-08, 0.99205315)
bones/1/rotation = Quaternion(0.19410767, 8.5548735e-10, -4.610957e-08, 0.9809803)
bones/2/rotation = Quaternion(-0.0711719, -1.1480078e-07, 1.9478286e-08, 0.9974641)
bones/6/rotation = Quaternion(-0.0377734, -0.010096325, -0.015821218, 0.9991101)
bones/8/position = Vector3(-0.02276528, 0.17998815, -0.026133535)
bones/8/rotation = Quaternion(-0.5343689, 0.6088607, -0.5545577, 0.19027472)
bones/9/rotation = Quaternion(0.007879598, -0.0017482543, -0.0464952, 0.9988859)
bones/10/rotation = Quaternion(-0.08810394, -0.22337076, 0.06353763, 0.96866214)
bones/14/rotation = Quaternion(0.02209185, 0.023288744, -0.35984567, 0.9324595)
bones/18/position = Vector3(0.012684404, 0.18003067, -0.0088179065)
bones/18/rotation = Quaternion(0.5357174, 0.5945815, -0.5694669, -0.18758261)
bones/19/rotation = Quaternion(0.0138624795, 0.004877392, 0.040485825, 0.9990721)
bones/20/rotation = Quaternion(-0.086885765, 0.22495453, -0.066494726, 0.96820706)
bones/24/rotation = Quaternion(0.023022585, -0.022360185, 0.35671937, 0.93366015)
bones/27/rotation = Quaternion(9.263001e-08, 0.6961122, 0.717933, -2.1852111e-07)
bones/28/rotation = Quaternion(9.263001e-08, 0.6961122, 0.717933, -2.1852111e-07)
bones/29/rotation = Quaternion(-0.31443802, 0.9132158, 0.07670641, -0.24755158)
bones/31/rotation = Quaternion(0.92794424, -0.10084269, 0.17037952, 0.31578648)
bones/32/rotation = Quaternion(0.30012888, 0.006376121, -0.03520765, 0.95322734)
bones/33/rotation = Quaternion(-0.5678332, 0.005343597, -0.0062981346, 0.8231022)
bones/35/rotation = Quaternion(-0.62599206, 0.7333399, -0.15466383, -0.21546626)
bones/36/rotation = Quaternion(0.9277302, 0.11459816, -0.17181823, 0.31090584)
bones/37/rotation = Quaternion(0.29687497, -0.007983211, 0.0607507, 0.9529486)
bones/38/rotation = Quaternion(-0.53644854, -0.049649447, -0.008458966, 0.8424288)
bones/39/rotation = Quaternion(0.08651459, 0.9612038, -0.26165038, -0.011900042)
bones/41/position = Vector3(0.21605, 0.08240292, -0.015668165)
bones/42/position = Vector3(0.036925074, -0.22712123, 0.5029397)
bones/43/position = Vector3(-0.21728185, 0.08240292, -0.015668165)
bones/44/position = Vector3(-0.03692506, -0.22712123, 0.50293976)

[node name="HitFX1" parent="." index="9" instance=ExtResource("11_x53ev")]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, 0, 0, 0)
visible = false

[node name="Body2" parent="." index="10" instance=ExtResource("4_eu2vu")]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, 0, 0, 0)

[node name="Skeleton3D" parent="Body2/metarig" index="0"]
bones/0/position = Vector3(2.0852753e-10, 0.8940276, -0.0650084)
bones/0/rotation = Quaternion(0.12581961, -1.1826187e-07, -1.4998863e-08, 0.99205315)
bones/1/rotation = Quaternion(0.19410767, 8.5548735e-10, -4.610957e-08, 0.9809803)
bones/2/rotation = Quaternion(0.0027669447, -1.1283257e-07, 1.6180438e-08, 0.9999962)
bones/6/rotation = Quaternion(-0.18947111, -1.1659989e-07, 5.7037905e-08, 0.98188627)
bones/8/position = Vector3(-0.02276528, 0.17998815, -0.026133535)
bones/8/rotation = Quaternion(-0.5623257, 0.5808519, -0.5654263, 0.16338305)
bones/9/rotation = Quaternion(0.060856596, -0.0036962675, -0.07842463, 0.99505407)
bones/10/rotation = Quaternion(-0.08810394, -0.22337076, 0.06353763, 0.96866214)
bones/14/rotation = Quaternion(0.02209185, 0.023288744, -0.35984567, 0.9324595)
bones/18/position = Vector3(0.012684404, 0.18003067, -0.0088179065)
bones/18/rotation = Quaternion(0.55884045, 0.57853603, -0.56808454, -0.17399257)
bones/19/rotation = Quaternion(0.43860078, 0.3186149, 0.49763903, 0.6771036)
bones/20/rotation = Quaternion(0.29690206, 0.27777123, 0.11101886, 0.9068447)
bones/24/rotation = Quaternion(0.4246916, -0.11345943, 0.38500163, 0.81150347)
bones/27/rotation = Quaternion(9.263001e-08, 0.6961122, 0.717933, -2.1852111e-07)
bones/28/rotation = Quaternion(9.263001e-08, 0.6961122, 0.717933, -2.1852111e-07)
bones/29/rotation = Quaternion(-0.31443802, 0.9132158, 0.07670641, -0.24755158)
bones/31/rotation = Quaternion(0.92685384, -0.10796593, 0.1822499, 0.3099523)
bones/32/rotation = Quaternion(0.3180751, 0.006336561, -0.037312895, 0.9473098)
bones/33/rotation = Quaternion(-0.5678332, 0.005343597, -0.0062981346, 0.8231022)
bones/35/rotation = Quaternion(-0.62599206, 0.7333399, -0.15466383, -0.21546626)
bones/36/rotation = Quaternion(0.92656237, 0.12256714, -0.18351467, 0.30460134)
bones/37/rotation = Quaternion(0.3145567, -0.007933573, 0.06436899, 0.9470205)
bones/38/rotation = Quaternion(-0.53644854, -0.049649447, -0.008458966, 0.8424288)
bones/39/rotation = Quaternion(0.08651459, 0.9612038, -0.26165038, -0.011900042)
bones/41/position = Vector3(0.21605, 0.08240292, -0.015668165)
bones/42/position = Vector3(0.036925074, -0.22712123, 0.5029397)
bones/43/position = Vector3(-0.21728185, 0.08240292, -0.015668165)
bones/44/position = Vector3(-0.03692506, -0.22712123, 0.50293976)

[node name="HitFX2" parent="." index="11" instance=ExtResource("4_eu2vu")]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, 0, 0, 0)
visible = false

[node name="Body3" parent="." index="12" instance=ExtResource("5_xkk2d")]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, 0, 0, 0)

[node name="Skeleton3D" parent="Body3/metarig" index="0"]
bones/0/position = Vector3(-1.0278743e-09, 0.89868456, -0.09271194)
bones/0/rotation = Quaternion(0.12581961, -1.1826187e-07, -1.4998863e-08, 0.99205315)
bones/1/rotation = Quaternion(0.19410767, 8.5548735e-10, -4.610957e-08, 0.9809803)
bones/2/rotation = Quaternion(-0.0711719, -1.1480078e-07, 1.9478286e-08, 0.9974641)
bones/6/rotation = Quaternion(-0.0377734, -0.010096325, -0.015821218, 0.9991101)
bones/8/position = Vector3(-0.02276528, 0.17998815, -0.026133535)
bones/8/rotation = Quaternion(-0.5343689, 0.6088607, -0.5545577, 0.19027472)
bones/9/rotation = Quaternion(0.007879598, -0.0017482543, -0.0464952, 0.9988859)
bones/10/rotation = Quaternion(-0.08810394, -0.22337076, 0.06353763, 0.96866214)
bones/14/rotation = Quaternion(0.02209185, 0.023288744, -0.35984567, 0.9324595)
bones/18/position = Vector3(0.012684404, 0.18003067, -0.0088179065)
bones/18/rotation = Quaternion(0.5357174, 0.5945815, -0.5694669, -0.18758261)
bones/19/rotation = Quaternion(0.0138624795, 0.004877392, 0.040485825, 0.9990721)
bones/20/rotation = Quaternion(-0.086885765, 0.22495453, -0.066494726, 0.96820706)
bones/24/rotation = Quaternion(0.023022585, -0.022360185, 0.35671937, 0.93366015)
bones/27/rotation = Quaternion(9.263001e-08, 0.6961122, 0.717933, -2.1852111e-07)
bones/28/rotation = Quaternion(9.263001e-08, 0.6961122, 0.717933, -2.1852111e-07)
bones/29/rotation = Quaternion(-0.31443802, 0.9132158, 0.07670641, -0.24755158)
bones/31/rotation = Quaternion(0.92794424, -0.10084269, 0.17037952, 0.31578648)
bones/32/rotation = Quaternion(0.30012888, 0.006376121, -0.03520765, 0.95322734)
bones/33/rotation = Quaternion(-0.5678332, 0.005343597, -0.0062981346, 0.8231022)
bones/35/rotation = Quaternion(-0.62599206, 0.7333399, -0.15466383, -0.21546626)
bones/36/rotation = Quaternion(0.9277302, 0.11459816, -0.17181823, 0.31090584)
bones/37/rotation = Quaternion(0.29687497, -0.007983211, 0.0607507, 0.9529486)
bones/38/rotation = Quaternion(-0.53644854, -0.049649447, -0.008458966, 0.8424288)
bones/39/rotation = Quaternion(0.08651459, 0.9612038, -0.26165038, -0.011900042)
bones/41/position = Vector3(0.21605, 0.08240292, -0.015668165)
bones/42/position = Vector3(0.036925074, -0.22712123, 0.5029397)
bones/43/position = Vector3(-0.21728185, 0.08240292, -0.015668165)
bones/44/position = Vector3(-0.03692506, -0.22712123, 0.50293976)

[node name="HitFX3" parent="." index="13" instance=ExtResource("5_xkk2d")]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, 0, 0, 0)
visible = false

[node name="Attackbox" parent="." index="14"]
transform = Transform3D(1.2, 0, 0, 0, 1.2, 0, 0, 0, 1.2, 0, 1.1488323, 0)

[node name="CollisionShape3D" parent="Attackbox" index="0"]
transform = Transform3D(0.99999976, 0, 0, 0, 0.99999976, 0, 0, 0, 0.99999976, 0, -0.06680733, -0.61794984)

[editable path="Body1"]
[editable path="HitFX1"]
[editable path="Body2"]
[editable path="HitFX2"]
[editable path="Body3"]
[editable path="HitFX3"]
