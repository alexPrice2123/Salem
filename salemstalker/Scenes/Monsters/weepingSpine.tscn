[gd_scene load_steps=28 format=3 uid="uid://bliqfpjmneg1"]

[ext_resource type="PackedScene" uid="uid://u7yct1quu07a" path="res://Scenes/Monsters/Monster_3D.tscn" id="1_rilpv"]
[ext_resource type="Script" uid="uid://cl4r1wi26m6bm" path="res://Scripts/weepingSpine.cs" id="2_63wuc"]
[ext_resource type="PackedScene" uid="uid://cmv8qf27awf3u" path="res://Assets/3D/charatermodel/hollow.blend" id="3_dlbej"]
[ext_resource type="Texture2D" uid="uid://bjurhsgte1wdp" path="res://Assets/2D/plains_grass.png" id="4_lyxad"]
[ext_resource type="Shader" uid="uid://d340c7agjccff" path="res://Shaders/magic.gdshader" id="5_63wuc"]
[ext_resource type="Material" uid="uid://bpu6edb0a8drx" path="res://Assets/HitFX/hitMat.tres" id="5_xemav"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_00oym"]
animation = &"Action"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ci7oq"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ht62m"]
animation = &"run"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ng0vc"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_c1rs2"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "velocity.length() > 0.2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ci7oq"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "velocity.length() <= 0.2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_m7bjp"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "_attackAnim == true"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_00oym"]
xfade_time = 0.2
switch_mode = 2
advance_mode = 2
advance_expression = "
"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_v7ma6"]
advance_mode = 2
advance_expression = "_attackAnim == true"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_nsxmw"]
states/End/position = Vector2(882.5, 85.9062)
states/Start/position = Vector2(253.5, 85.75)
states/attack/node = SubResource("AnimationNodeAnimation_00oym")
states/attack/position = Vector2(591.875, 158.5)
states/idle/node = SubResource("AnimationNodeAnimation_ci7oq")
states/idle/position = Vector2(467, 86.0625)
states/walking/node = SubResource("AnimationNodeAnimation_ht62m")
states/walking/position = Vector2(591.062, 11.375)
transitions = ["Start", "idle", SubResource("AnimationNodeStateMachineTransition_ng0vc"), "idle", "walking", SubResource("AnimationNodeStateMachineTransition_c1rs2"), "walking", "idle", SubResource("AnimationNodeStateMachineTransition_ci7oq"), "idle", "attack", SubResource("AnimationNodeStateMachineTransition_m7bjp"), "attack", "idle", SubResource("AnimationNodeStateMachineTransition_00oym"), "walking", "attack", SubResource("AnimationNodeStateMachineTransition_v7ma6")]
graph_offset = Vector2(197, -38)

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_xdlj8"]
seamless = true

[sub_resource type="ShaderMaterial" id="ShaderMaterial_dlbej"]
render_priority = 0
shader = ExtResource("5_63wuc")
shader_parameter/Color = Color(0, 0.710684, 0, 1)
shader_parameter/glow_color = Color(0.258824, 0.0235294, 0.25098, 1)
shader_parameter/dist = 2.0
shader_parameter/speed = 1.0
shader_parameter/glow_intensity = -0.515
shader_parameter/glow_amount = -5.36
shader_parameter/posMult = 0.03
shader_parameter/noise = SubResource("NoiseTexture2D_xdlj8")

[sub_resource type="SphereMesh" id="SphereMesh_lyxad"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_l2guo"]
albedo_texture = ExtResource("4_lyxad")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_le60b"]
albedo_color = Color(1, 1, 0, 1)
emission_enabled = true
emission = Color(1, 1, 0, 1)

[sub_resource type="Curve" id="Curve_demp2"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_v7ma6"]
curve = SubResource("Curve_demp2")

[sub_resource type="Curve" id="Curve_wt77t"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.504237, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_ch86k"]
curve = SubResource("Curve_wt77t")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_2r11o"]
lifetime_randomness = 1.0
angle_min = 1.07288e-05
angle_max = 360.0
direction = Vector3(0, 0, 0)
spread = 0.0
radial_velocity_min = 0.999978
radial_velocity_max = 0.999978
radial_velocity_curve = SubResource("CurveTexture_v7ma6")
gravity = Vector3(0, -2, 0)
scale_min = 0.05
scale_max = 0.1
scale_curve = SubResource("CurveTexture_ch86k")

[sub_resource type="BoxMesh" id="BoxMesh_b6irl"]

[node name="vineTangler" instance=ExtResource("1_rilpv")]
script = ExtResource("2_63wuc")

[node name="CollisionShape3D" parent="." index="0"]
transform = Transform3D(1.2, 0, 0, 0, 1.2, 0, 0, 0, 1.2, 0, 0.59983873, 0)

[node name="AnimationTree" type="AnimationTree" parent="." index="2"]
root_node = NodePath("../Body")
tree_root = SubResource("AnimationNodeStateMachine_nsxmw")
advance_expression_base_node = NodePath("..")
anim_player = NodePath("../Body/AnimationPlayer")

[node name="Orb" type="MeshInstance3D" parent="." index="3"]
transform = Transform3D(-0.442847, 0, -6.68682e-08, 0, 0.442847, 0, 6.68682e-08, 0, -0.442847, 0.0274378, 0.9805841, -0.223381)
material_override = SubResource("ShaderMaterial_dlbej")
mesh = SubResource("SphereMesh_lyxad")
skeleton = NodePath("../HitFX")

[node name="Hurtbox" parent="." index="4"]
transform = Transform3D(1.2, 0, 0, 0, 1.2, 0, 0, 0, 1.2, 0, 1.053811, 0)
visible = false

[node name="Attackbox" parent="." index="5"]
transform = Transform3D(1.2, 0, 0, 0, 1.2, 0, 0, 0, 1.2, 0, 1.053811, 0)
visible = false
monitoring = false

[node name="CollisionShape3D" parent="Attackbox" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0668074, -0.636108)
disabled = false

[node name="Body" parent="." index="6" instance=ExtResource("3_dlbej")]
transform = Transform3D(-0.728321, 0, -1.09974e-07, 0, 0.728321, 0, 1.09974e-07, 0, -0.728321, 0, -0.14619005, 0)

[node name="Skeleton3D" parent="Body/metarig" index="0"]
bones/0/position = Vector3(-3.996803e-15, 0.91297656, -0.06494777)
bones/1/rotation = Quaternion(0.24567753, -1.4794944e-10, 5.5117024e-08, 0.96935165)
bones/2/rotation = Quaternion(-0.0991209, -1.1862223e-07, -1.1816133e-08, 0.9950754)
bones/3/rotation = Quaternion(0.0004788177, -1.08799154e-14, -1.2013139e-17, 0.9999999)
bones/5/rotation = Quaternion(-0.25058776, 1.1443622e-07, -3.6776854e-08, 0.96809393)
bones/9/rotation = Quaternion(-0.18898623, 0.04480727, -0.15886192, 0.968008)
bones/10/rotation = Quaternion(-0.27807137, 0.06865762, -0.35677496, 0.8891986)
bones/11/rotation = Quaternion(-0.3078597, 0.0532419, -0.13864398, 0.93976897)
bones/13/rotation = Quaternion(-0.20784874, 0.6548323, -0.5467034, 0.47865346)
bones/14/rotation = Quaternion(0.3356393, 0.08820377, -0.6538738, 0.67232096)
bones/15/rotation = Quaternion(0.022616165, -0.2565797, -0.111004815, 0.95986116)
bones/19/rotation = Quaternion(0.2528798, -0.17335312, -0.4408048, 0.84361815)
bones/22/rotation = Quaternion(0.6420827, 0.0691482, -0.009726321, 0.76344866)
bones/23/rotation = Quaternion(-0.17340927, 0.11020349, -0.045165908, 0.97762185)
bones/24/rotation = Quaternion(-0.17701517, -0.11306593, 0.18093164, 0.96080464)
bones/26/rotation = Quaternion(-0.120531306, -0.2955138, 0.69937986, 0.63954014)
bones/27/rotation = Quaternion(-0.044732284, 0.098643295, 0.2532608, 0.9613155)
bones/28/rotation = Quaternion(-0.015064055, -0.007739961, -0.034149986, 0.9992732)
bones/29/rotation = Quaternion(-0.08232604, -0.0049978313, 0.04652979, 0.9955061)
bones/30/rotation = Quaternion(0.43329772, 0.033033125, 0.04665936, 0.8994359)
bones/31/rotation = Quaternion(-0.41889727, -0.045971964, -0.13246183, 0.897143)
bones/32/rotation = Quaternion(-0.05438967, 0.013077634, -0.026632909, 0.9980789)
bones/33/rotation = Quaternion(0.062826104, 0.0026495554, -0.0045803827, 0.9980106)
bones/34/rotation = Quaternion(-0.36473766, -0.03836103, 0.02129798, 0.93007594)
bones/35/rotation = Quaternion(0.30045402, -0.005984514, -0.09773418, 0.94875693)
bones/36/rotation = Quaternion(0.07521035, 0.08515082, 0.04057402, 0.99269664)
bones/37/rotation = Quaternion(-0.35703844, 0.019217692, 0.0760812, 0.93078786)
bones/38/rotation = Quaternion(0.015722234, -0.0057363487, -0.38393444, 0.9232087)
bones/39/rotation = Quaternion(-0.02899406, -0.005596606, 0.31311968, 0.9492546)
bones/40/rotation = Quaternion(-0.023519043, 0.011228616, -0.13398275, 0.9906409)
bones/41/rotation = Quaternion(-0.036743697, 0.033730146, -0.068504795, 0.9964032)
bones/42/rotation = Quaternion(-0.05018785, -0.007975374, 0.37851232, 0.9242002)
bones/43/rotation = Quaternion(0.082680345, 0.009597007, -0.44530383, 0.8915023)
bones/44/rotation = Quaternion(0.012805501, 0.0031125145, 0.13037512, 0.9913772)
bones/45/rotation = Quaternion(0.16715737, -0.059858847, 0.25206834, 0.9512817)
bones/47/rotation = Quaternion(-0.21239838, 0.014199913, -0.38064185, 0.89988726)
bones/48/rotation = Quaternion(0.027884409, -0.054167733, -0.09408633, 0.99369824)
bones/50/rotation = Quaternion(-0.22016488, -0.19395778, 0.43622652, 0.8506552)
bones/51/rotation = Quaternion(0.0448375, -0.123460636, -0.15867716, 0.9785544)
bones/52/rotation = Quaternion(-0.6624274, 0.041430432, 0.49724695, 0.5587656)
bones/53/rotation = Quaternion(0.2539693, -0.0046953317, -0.14134444, 0.9568173)
bones/54/rotation = Quaternion(-0.1810778, -0.06081138, 0.06038807, 0.9797276)
bones/55/rotation = Quaternion(-0.22917011, 0.1346658, 0.0819916, 0.960533)
bones/56/rotation = Quaternion(-5.420244e-08, 0.69611233, 0.7179329, -5.2555006e-08)
bones/57/rotation = Quaternion(-5.4202427e-08, 0.6961122, 0.717933, -5.255501e-08)
bones/60/rotation = Quaternion(0.97632784, 0.02711983, -0.006079221, 0.2145029)
bones/61/rotation = Quaternion(0.27722156, 0.012004272, 0.012072351, 0.9606552)
bones/62/rotation = Quaternion(-0.6078024, -0.096431814, -0.06494553, 0.7855312)
bones/65/rotation = Quaternion(0.9281871, -0.02963136, 0.0119817, 0.37073866)
bones/66/rotation = Quaternion(0.37593776, -0.016103968, -0.01976615, 0.9262941)
bones/67/rotation = Quaternion(-0.42064846, 0.49718428, 0.17954458, 0.7373103)
bones/68/rotation = Quaternion(-0.0613856, 0.959714, -0.26865867, -0.054803994)
bones/69/rotation = Quaternion(-0.63208157, 0.7247701, -0.18002333, -0.20681576)

[node name="Cube" parent="Body/metarig/Skeleton3D" index="0"]
surface_material_override/0 = SubResource("StandardMaterial3D_l2guo")
surface_material_override/1 = SubResource("StandardMaterial3D_l2guo")
surface_material_override/2 = SubResource("StandardMaterial3D_l2guo")
surface_material_override/3 = SubResource("StandardMaterial3D_l2guo")
surface_material_override/4 = SubResource("StandardMaterial3D_l2guo")

[node name="Cube_002" parent="Body/metarig/Skeleton3D" index="1"]
surface_material_override/0 = SubResource("StandardMaterial3D_l2guo")
surface_material_override/1 = SubResource("StandardMaterial3D_l2guo")

[node name="Cube_003" parent="Body/metarig/Skeleton3D" index="2"]
surface_material_override/0 = SubResource("StandardMaterial3D_l2guo")
surface_material_override/1 = SubResource("StandardMaterial3D_l2guo")

[node name="HitFX" parent="." index="7" instance=ExtResource("3_dlbej")]
transform = Transform3D(-0.728321, 0, -1.09974e-07, 0, 0.728321, 0, 1.09974e-07, 0, -0.728321, 0, -0.14619005, 0)
visible = false

[node name="Cube" parent="HitFX/metarig/Skeleton3D" index="0"]
material_overlay = ExtResource("5_xemav")

[node name="Cube_002" parent="HitFX/metarig/Skeleton3D" index="1"]
material_overlay = ExtResource("5_xemav")

[node name="Cube_003" parent="HitFX/metarig/Skeleton3D" index="2"]
material_overlay = ExtResource("5_xemav")

[node name="Stunned" type="GPUParticles3D" parent="." index="8"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00175359, 1.654441, -0.369143)
material_override = SubResource("StandardMaterial3D_le60b")
emitting = false
amount = 50
lifetime = 0.5
process_material = SubResource("ParticleProcessMaterial_2r11o")
draw_pass_1 = SubResource("BoxMesh_b6irl")

[node name="Direction" type="Node3D" parent="." index="9"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)

[node name="Spawn" type="Node3D" parent="." index="10"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.94403577, -0.331798)

[editable path="Body"]
[editable path="HitFX"]
